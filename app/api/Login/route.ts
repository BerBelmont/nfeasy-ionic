import { NextRequest, NextResponse } from 'next/server'; import { issueToken } from '../../../lib/auth'; export async function POST(req: NextRequest){ const body = await req.json().catch(()=>({})); const { usuario, senha } = body ?? {}; const out = issueToken(usuario, senha); if(!out) return NextResponse.json({ ok:false, message:'Usuário ou senha inválidos' }, { status: 401 }); return NextResponse.json({ ok:true, ...out }); }